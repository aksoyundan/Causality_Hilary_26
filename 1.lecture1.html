<!DOCTYPE html>
<html lang="en"><head>
<script src="1.lecture1_files/libs/clipboard/clipboard.min.js"></script>
<script src="1.lecture1_files/libs/quarto-html/tabby.min.js"></script>
<script src="1.lecture1_files/libs/quarto-html/popper.min.js"></script>
<script src="1.lecture1_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="1.lecture1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1.lecture1_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="1.lecture1_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Ozan Aksoy">
  <meta name="dcterms.date" content="2026-01-20">
  <title>Causal Inference</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="1.lecture1_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="1.lecture1_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="1.lecture1_files/libs/revealjs/dist/theme/quarto-2c1b5f745a11cfad616ebade4a4a7d24.css">
  <link href="1.lecture1_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="1.lecture1_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="1.lecture1_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="1.lecture1_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="1.lecture1_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="1.lecture1_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <style>
  .reveal .slide-logo {
    max-height: unset;
    height: 100px;
  }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Causal Inference</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Ozan Aksoy 
</div>
</div>
</div>

  <p class="date">January 20, 2026</p>
</section>
<section id="potential-outcomes-counterfactuals-and-a-christmas-carol" class="title-slide slide level1 center">
<h1>Potential outcomes, counterfactuals and A Christmas Carol</h1>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Scrooge.jpg" class="quarto-figure quarto-figure-center" style="width:100.0%"></p>
</figure>
</div>
</section>

<section id="the-potential-outcome-framework" class="title-slide slide level1 center">
<h1>The potential outcome framework</h1>
<div class="columns">
<div class="column" style="width:50%;">
<table class="caption-top">
<thead>
<tr class="header">
<th>Unit</th>
<th>Control</th>
<th>Treatm.</th>
<th style="text-align: right;">Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(i\)</span></td>
<td><span class="math inline">\(Y_i^C\)</span></td>
<td><span class="math inline">\(Y_i^T\)</span></td>
<td style="text-align: right;"><span class="math inline">\(\delta_i\)</span></td>
</tr>
<tr class="even">
<td>1</td>
<td>8</td>
<td>9</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td>2</td>
<td>5</td>
<td>3</td>
<td style="text-align: right;">-2</td>
</tr>
<tr class="even">
<td>3</td>
<td>6</td>
<td>4</td>
<td style="text-align: right;">-2</td>
</tr>
<tr class="odd">
<td>4</td>
<td>6</td>
<td>2</td>
<td style="text-align: right;">-4</td>
</tr>
<tr class="even">
<td>5</td>
<td>15</td>
<td>18</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td>6</td>
<td>13</td>
<td>16</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td>7</td>
<td>8</td>
<td>9</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td>8</td>
<td>2</td>
<td>0</td>
<td style="text-align: right;">-2</td>
</tr>
<tr class="even">
<td>9</td>
<td>4</td>
<td>3</td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td>10</td>
<td>2</td>
<td>0</td>
<td style="text-align: right;">-2</td>
</tr>
<tr class="even">
<td>Mean</td>
<td>6.9</td>
<td>6.4</td>
<td style="text-align: right;">-0.5</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p>“The science table”</p>
<p><span class="math inline">\(D = T\)</span>: Treatment</p>
<p><span class="math inline">\(D = C\)</span>: Control</p>
<p><span class="math inline">\(Y = Y^T\)</span> if <span class="math inline">\(D = T\)</span></p>
<p><span class="math inline">\(Y = Y^C\)</span> if <span class="math inline">\(D = C\)</span></p>
<p><strong>Average causal effect:</strong></p>
<p><span class="math inline">\(\bar{\delta} = 6.4 - 6.9 = -0.5\)</span></p>
</div></div>
</section>

<section id="potential-vs.-observed-outcomes" class="title-slide slide level1 center">
<h1>Potential vs.&nbsp;observed outcomes</h1>
<div class="columns">
<div class="column" style="width:60%;">
<table class="caption-top">
<thead>
<tr class="header">
<th>Unit</th>
<th>Status</th>
<th>PO Cont</th>
<th>PO Treat</th>
<th style="text-align: right;">Observed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(i\)</span></td>
<td><span class="math inline">\(D\)</span></td>
<td><span class="math inline">\(Y_i^C\)</span></td>
<td><span class="math inline">\(Y_i^T\)</span></td>
<td style="text-align: right;"><span class="math inline">\(Y_{obs}\)</span></td>
</tr>
<tr class="even">
<td>1</td>
<td>T</td>
<td>?</td>
<td>9</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td>2</td>
<td>C</td>
<td>5</td>
<td>?</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td>3</td>
<td>C</td>
<td>6</td>
<td>?</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td>4</td>
<td>C</td>
<td>6</td>
<td>?</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td>5</td>
<td>T</td>
<td>?</td>
<td>18</td>
<td style="text-align: right;">18</td>
</tr>
<tr class="odd">
<td>6</td>
<td>T</td>
<td>?</td>
<td>16</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="even">
<td>7</td>
<td>T</td>
<td>?</td>
<td>9</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td>8</td>
<td>C</td>
<td>2</td>
<td>?</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td>9</td>
<td>C</td>
<td>4</td>
<td>?</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td>10</td>
<td>C</td>
<td>2</td>
<td>?</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td>Mean</td>
<td></td>
<td>4.2</td>
<td>13</td>
<td style="text-align: right;"></td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:40%;">
<p>Observed “effect”:</p>
<p><span class="math inline">\(13-4.2=8.8^{**}\)</span>!!</p>
<p><strong>Wrong conclusions:</strong></p>
<p>New treatment adds 9 years of life</p>
<p>If all treated average life = 13</p>
<p>Random sample doesn’t help.</p>
</div></div>
</section>

<section id="fundamental-problem-of-causal-inference" class="title-slide slide level1 center">
<h1>Fundamental problem of causal inference</h1>
<ul>
<li><p>For subject <span class="math inline">\(i\)</span>, the <strong>causal effect</strong> of the treatment is the difference between two outcomes:</p></li>
<li><p><span class="math inline">\(\delta_{i} = Y_i^T-Y_i^C\)</span> (<span class="math inline">\(Y_i^T\)</span>: <span class="math inline">\(i\)</span>’s PO in treatment, <span class="math inline">\(Y_i^C\)</span>: <span class="math inline">\(i\)</span>’s PO in control)</p></li>
<li><p>But only one of the two potential outcomes is realised/observed</p></li>
<li><p>(Unless Christmas spirits help…)</p></li>
</ul>
<table class="caption-top">
<thead>
<tr class="header">
<th>Group</th>
<th><span class="math inline">\(D\)</span></th>
<th><span class="math inline">\(Y_i^T\)</span></th>
<th><span class="math inline">\(Y_i^C\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Treatment</td>
<td>T</td>
<td><strong>Observable</strong></td>
<td><em>Counterfactual</em></td>
</tr>
<tr class="even">
<td>Control</td>
<td>C</td>
<td><em>Counterfactual</em></td>
<td><strong>Observable</strong></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>

<section>
<section id="naive-estimator-for-the-treatment-effect" class="title-slide slide level1 center">
<h1>“Naive” estimator for the treatment effect</h1>
<p><span class="math inline">\(\hat{\delta}_{naive} = Avr(Y_i^{obs} | D = T) - Avr(Y_i^{obs} | D = C)\)</span></p>
<p>(Observed difference between treatment and control)</p>
<div class="columns">
<div class="column" style="width:60%;">
<table class="caption-top">
<thead>
<tr class="header">
<th>Unit</th>
<th>Status</th>
<th>PO Cont</th>
<th>PO Treat</th>
<th style="text-align: right;">Observed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(i\)</span></td>
<td><span class="math inline">\(D\)</span></td>
<td><span class="math inline">\(Y_i^C\)</span></td>
<td><span class="math inline">\(Y_i^T\)</span></td>
<td style="text-align: right;"><span class="math inline">\(Y_{obs}\)</span></td>
</tr>
<tr class="even">
<td>1</td>
<td>T</td>
<td>?</td>
<td>9</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td>2</td>
<td>C</td>
<td>5</td>
<td>?</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td>3</td>
<td>C</td>
<td>6</td>
<td>?</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td>4</td>
<td>C</td>
<td>6</td>
<td>?</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td>5</td>
<td>T</td>
<td>?</td>
<td>18</td>
<td style="text-align: right;">18</td>
</tr>
<tr class="odd">
<td>6</td>
<td>T</td>
<td>?</td>
<td>16</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="even">
<td>7</td>
<td>T</td>
<td>?</td>
<td>9</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td>8</td>
<td>C</td>
<td>2</td>
<td>?</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td>9</td>
<td>C</td>
<td>4</td>
<td>?</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td>10</td>
<td>C</td>
<td>2</td>
<td>?</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td>Mean</td>
<td></td>
<td>4.2</td>
<td>13</td>
<td style="text-align: right;"></td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:40%;">
<ul>
<li>Naive estimator for the example:</li>
</ul>
<p><span class="math inline">\(\hat{\delta}_{naive} = \frac{9+18+16+9}{4} - \frac{5+6+6+2+4+2}{6} = 8.8\)</span></p>
<ul>
<li>What is wrong?</li>
</ul>
</div></div>
</section>
<section id="ate-att-atc" class="slide level2">
<h2>ATE, ATT, ATC</h2>
<ul>
<li><p><strong><span style="color:red;">Individual Causal / Treatment Effect</span>:</strong><br>
<span class="math inline">\(\delta_i = Y_i^T - Y_i^C\)</span></p></li>
<li><p><strong>Average Treatment Effect (ATE)</strong> for the entire population:</p>
<p><span class="math display">\[
\text{ATE}
= \text{Average}(\delta)
= E\!\left[Y_i^T - Y_i^C\right]
= \color{red}{E[Y_i^T] - E[Y_i^C]}
\]</span></p></li>
<li><p><strong>Average Treatment Effect for the Treated (ATT):</strong></p>
<p><span class="math display">\[
\text{ATT}
= \text{Average}(\delta \mid D = T)
= E(Y_i^T - Y_i^C \mid D = T)
= \color{red}{E(Y_i^T \mid D = T) - E(Y_i^C \mid D = T)}
\]</span></p></li>
<li><p><strong>Average Treatment Effect for the Controls (ATC) or sometimes ATUT:</strong></p>
<p><span class="math display">\[
\text{ATC}
= \text{Average}(\delta \mid D = C)
= E(Y_i^T - Y_i^C \mid D = C)
= \color{red}{E(Y_i^T \mid D = C) - E(Y_i^C \mid D = C)}
\]</span></p></li>
</ul>
</section>
<section id="ate-att-atc-numerical-example" class="slide level2">
<h2>ATE, ATT, ATC: numerical example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<table>
<thead>
<tr>
<th>
</th>
<th>
</th>
<th colspan="3">
<span style="color:red;">Potential outcomes</span>
</th>
</tr>
<tr>
<th>
Unit
</th>
<th>
D
</th>
<th>
Control
</th>
<th>
Treatm.
</th>
<th>
Effect
</th>
</tr>
<tr>
<th>
<em>i</em>
</th>
<th>
</th>
<th>
<span class="math inline">\(Y_i^C\)</span>
</th>
<th>
<span class="math inline">\(Y_i^T\)</span>
</th>
<th>
<span class="math inline">\(\delta_i\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
1
</td>
<td>
T
</td>
<td>
8
</td>
<td>
9
</td>
<td>
1
</td>
</tr>
<tr>
<td>
2
</td>
<td>
C
</td>
<td>
5
</td>
<td>
3
</td>
<td>
-2
</td>
</tr>
<tr>
<td>
3
</td>
<td>
C
</td>
<td>
6
</td>
<td>
4
</td>
<td>
-2
</td>
</tr>
<tr>
<td>
4
</td>
<td>
C
</td>
<td>
6
</td>
<td>
2
</td>
<td>
-4
</td>
</tr>
<tr>
<td>
5
</td>
<td>
T
</td>
<td>
15
</td>
<td>
18
</td>
<td>
3
</td>
</tr>
<tr>
<td>
6
</td>
<td>
T
</td>
<td>
13
</td>
<td>
16
</td>
<td>
3
</td>
</tr>
<tr>
<td>
7
</td>
<td>
T
</td>
<td>
8
</td>
<td>
9
</td>
<td>
1
</td>
</tr>
<tr>
<td>
8
</td>
<td>
C
</td>
<td>
2
</td>
<td>
0
</td>
<td>
-2
</td>
</tr>
<tr>
<td>
9
</td>
<td>
C
</td>
<td>
4
</td>
<td>
3
</td>
<td>
-1
</td>
</tr>
<tr>
<td>
10
</td>
<td>
C
</td>
<td>
2
</td>
<td>
0
</td>
<td>
-2
</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<ul>
<li><strong>ATE</strong> = ?</li>
<li><strong>ATT</strong> = ?</li>
<li><strong>ATC</strong> = ?</li>
</ul>
</div></div>
</section>
<section id="ate-att-atc-numerical-example-1" class="slide level2">
<h2>ATE, ATT, ATC: numerical example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<table class="caption-top">
<thead>
<tr class="header">
<th>Unit</th>
<th>Status</th>
<th>Control</th>
<th>Treatm.</th>
<th style="text-align: right;">Effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(i\)</span></td>
<td><span class="math inline">\(D\)</span></td>
<td><span class="math inline">\(Y_i^C\)</span></td>
<td><span class="math inline">\(Y_i^T\)</span></td>
<td style="text-align: right;"><span class="math inline">\(\delta_i\)</span></td>
</tr>
<tr class="even">
<td>1</td>
<td>T</td>
<td>8</td>
<td>9</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td>2</td>
<td>C</td>
<td>5</td>
<td>3</td>
<td style="text-align: right;">-2</td>
</tr>
<tr class="even">
<td>3</td>
<td>C</td>
<td>6</td>
<td>4</td>
<td style="text-align: right;">-2</td>
</tr>
<tr class="odd">
<td>4</td>
<td>C</td>
<td>6</td>
<td>2</td>
<td style="text-align: right;">-4</td>
</tr>
<tr class="even">
<td>5</td>
<td>T</td>
<td>15</td>
<td>18</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td>6</td>
<td>T</td>
<td>13</td>
<td>16</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td>7</td>
<td>T</td>
<td>8</td>
<td>9</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td>8</td>
<td>C</td>
<td>2</td>
<td>0</td>
<td style="text-align: right;">-2</td>
</tr>
<tr class="even">
<td>9</td>
<td>C</td>
<td>4</td>
<td>3</td>
<td style="text-align: right;">-1</td>
</tr>
<tr class="odd">
<td>10</td>
<td>C</td>
<td>2</td>
<td>0</td>
<td style="text-align: right;">-2</td>
</tr>
<tr class="even">
<td>Mean</td>
<td></td>
<td>6.9</td>
<td>6.4</td>
<td style="text-align: right;">-0.5</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<ul>
<li><p><strong>ATE</strong> <span class="math inline">\(= E[Y_i^T] - E[Y_i^C] = 6.4 - 6.9 = -0.5\)</span></p></li>
<li><p><strong>ATT</strong> <span class="math inline">\(= \text{Avrg}(\delta \mid D = T) = \frac{1 + 3 + 3 + 1}{4} = 2\)</span></p></li>
<li><p><strong>ATC</strong> <span class="math inline">\(= \text{Avrg}(\delta \mid D = C) = \frac{-2 - 2 - 4 - 2 - 1 - 2}{6} = -2.17\)</span></p></li>
<li><p><span style="color:red;">Beware:</span> these are not readily obtainable in observational data</p></li>
</ul>
</div></div>
</section></section>
<section>
<section id="naive-estimator-versus-the-estimand" class="title-slide slide level1 center">
<h1>Naive estimator versus the estimand</h1>
<p>Estimand: Average Treatment Effect (ATE)</p>
<p><span class="math display">\[
\begin{align}
\widehat{\delta}_{\text{naive}}
&amp;= \underbrace{\text{Avrg}(\delta)}_{\text{ATE}} \\
&amp;\quad + \underbrace{\text{Avrg}(Y_i^C \mid D = T) - \text{Avrg}(Y_i^C \mid D = C)}_{\text{Selection (baseline) bias}} \\
&amp;\quad + (1 - \pi) \times
\underbrace{\left[
\text{Avrg}(\delta \mid D = T) - \text{Avrg}(\delta \mid D = C)
\right]}_{\text{ATT - ATC (differential treatment effect) bias}
}
\end{align}
\]</span> (<span class="math inline">\(\pi =\)</span> proportion of sample in the treatment group. The more people are treated, the smaller will be the diﬀerential treatment eﬀect bias because the ’naive’ estimate would be already more based on those who are treated)</p>
</section>
<section id="naive-estimate-vs.-ate-selection-baseline-bias" class="slide level2">
<h2>Naive estimate vs.&nbsp;ATE: Selection Baseline Bias</h2>
<div class="columns">
<div class="column" style="width:50%;">
<table>
<thead>
<tr>
<th>
</th>
<th>
</th>
<th colspan="3">
<span style="color:red;">Potential outcomes</span>
</th>
</tr>
<tr>
<th>
Unit
</th>
<th>
D
</th>
<th>
Control
</th>
<th>
Treatm.
</th>
<th>
Effect
</th>
</tr>
<tr>
<th>
<em>i</em>
</th>
<th>
</th>
<th>
<span class="math inline">\(Y_i^C\)</span>
</th>
<th>
<span class="math inline">\(Y_i^T\)</span>
</th>
<th>
<span class="math inline">\(\delta_i\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
1
</td>
<td>
T
</td>
<td>
<span style="color:red;">8</span>
</td>
<td>
9
</td>
<td>
1
</td>
</tr>
<tr>
<td>
2
</td>
<td>
C
</td>
<td>
5
</td>
<td>
3
</td>
<td>
-2
</td>
</tr>
<tr>
<td>
3
</td>
<td>
C
</td>
<td>
6
</td>
<td>
4
</td>
<td>
-2
</td>
</tr>
<tr>
<td>
4
</td>
<td>
C
</td>
<td>
6
</td>
<td>
2
</td>
<td>
-4
</td>
</tr>
<tr>
<td>
5
</td>
<td>
T
</td>
<td>
<span style="color:red;">15</span>
</td>
<td>
18
</td>
<td>
3
</td>
</tr>
<tr>
<td>
6
</td>
<td>
T
</td>
<td>
<span style="color:red;">13</span>
</td>
<td>
16
</td>
<td>
3
</td>
</tr>
<tr>
<td>
7
</td>
<td>
T
</td>
<td>
<span style="color:red;">8</span>
</td>
<td>
9
</td>
<td>
1
</td>
</tr>
<tr>
<td>
8
</td>
<td>
C
</td>
<td>
2
</td>
<td>
0
</td>
<td>
-2
</td>
</tr>
<tr>
<td>
9
</td>
<td>
C
</td>
<td>
4
</td>
<td>
3
</td>
<td>
-1
</td>
</tr>
<tr>
<td>
10
</td>
<td>
C
</td>
<td>
2
</td>
<td>
0
</td>
<td>
-2
</td>
</tr>
<tr>
<td>
<strong>Average</strong>
</td>
<td>
</td>
<td>
6.9
</td>
<td>
6.4
</td>
<td>
-0.5
</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<ul>
<li><strong>Selection Baseline Bias</strong>: even in the absence of treatment, those in the treatment group are different from those in the control group</li>
<li>Even without the drug, those in the treatment group would have lived longer</li>
<li><span class="math inline">\(\frac{44}{4} - \frac{25}{6} = 11 - 4.2 = 6.8\)</span></li>
</ul>
</div></div>
</section>
<section id="naive-estim.-vs.-ate-differential-treatm.-effect" class="slide level2">
<h2>Naive estim. vs.&nbsp;ATE: Differential Treatm. Effect</h2>
<div class="columns">
<div class="column" style="width:50%;">
<table>
<thead>
<tr>
<th>
</th>
<th>
</th>
<th colspan="3">
<span style="color:red;">Potential outcomes</span>
</th>
</tr>
<tr>
<th>
Unit
</th>
<th>
D
</th>
<th>
Control
</th>
<th>
Treatm.
</th>
<th>
Effect
</th>
</tr>
<tr>
<th>
<em>i</em>
</th>
<th>
</th>
<th>
<span class="math inline">\(Y_i^C\)</span>
</th>
<th>
<span class="math inline">\(Y_i^T\)</span>
</th>
<th>
<span class="math inline">\(\delta_i\)</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
1
</td>
<td>
T
</td>
<td>
8
</td>
<td>
9
</td>
<td>
<span style="color:red;">1</span>
</td>
</tr>
<tr>
<td>
2
</td>
<td>
C
</td>
<td>
5
</td>
<td>
3
</td>
<td>
<span style="color:green;">-2</span>
</td>
</tr>
<tr>
<td>
3
</td>
<td>
C
</td>
<td>
6
</td>
<td>
4
</td>
<td>
<span style="color:green;">-2</span>
</td>
</tr>
<tr>
<td>
4
</td>
<td>
C
</td>
<td>
6
</td>
<td>
2
</td>
<td>
<span style="color:green;">-4</span>
</td>
</tr>
<tr>
<td>
5
</td>
<td>
T
</td>
<td>
15
</td>
<td>
18
</td>
<td>
<span style="color:red;">3</span>
</td>
</tr>
<tr>
<td>
6
</td>
<td>
T
</td>
<td>
13
</td>
<td>
16
</td>
<td>
<span style="color:red;">3</span>
</td>
</tr>
<tr>
<td>
7
</td>
<td>
T
</td>
<td>
8
</td>
<td>
9
</td>
<td>
<span style="color:red;">1</span>
</td>
</tr>
<tr>
<td>
8
</td>
<td>
C
</td>
<td>
2
</td>
<td>
0
</td>
<td>
<span style="color:green;">-2</span>
</td>
</tr>
<tr>
<td>
9
</td>
<td>
C
</td>
<td>
4
</td>
<td>
3
</td>
<td>
<span style="color:green;">-1</span>
</td>
</tr>
<tr>
<td>
10
</td>
<td>
C
</td>
<td>
2
</td>
<td>
0
</td>
<td>
<span style="color:green;">-2</span>
</td>
</tr>
<tr>
<td>
<strong>Average</strong>
</td>
<td>
</td>
<td>
6.9
</td>
<td>
6.4
</td>
<td>
-0.5
</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<ul>
<li><strong>Differential Treatment Effect:</strong> difference in the treatment effect between those in the treatment and those in the control group<br>
</li>
<li>The drug has a different effect on the treatment and the control group<br>
</li>
<li><span class="math inline">\(0.6 \times (\text{ATT} - \text{ATC}) = 0.6 \times (2 + 2.17) = 2.5\)</span></li>
</ul>
</div></div>
</section>
<section id="naive-estimator-vs.-ate-numerical-example" class="slide level2">
<h2>Naive estimator vs.&nbsp;ATE: numerical example</h2>
<p><span class="math display">\[
\begin{align}
8.8
&amp;= -0.5
&amp;&amp; (\text{ATE}) \\
&amp;\quad + \frac{44}{4} - \frac{25}{6}
&amp;&amp; (= 6.8:\ \text{selection (baseline) bias}) \\
&amp;\quad + 0.6 \cdot (2 + 2.17)
&amp;&amp; (= 2.5:\ \text{ATT--ATC bias})
\end{align}
\]</span></p>
</section>
<section id="randomisation-as-the-solution" class="slide level2">
<h2>Randomisation as the solution</h2>
<ul>
<li><strong><span style="color:red;">Conditional independence</span></strong>: (D) is given randomly to individuals</li>
<li>In this case, selection bias <span class="math inline">\(= 0\)</span>, <span class="math inline">\(ATT - ATC = 0\)</span>, thus:</li>
<li><span class="math inline">\(\widehat{\delta}_{\text{naive}} = \underbrace{\text{Avrg}(\delta)}_{\text{ATE}}\)</span></li>
<li>So randomisation solves various biases and the fundamental problem of causal inference (on average)</li>
</ul>
<div class="fragment">
<p>Random assignment has been called the <strong>gold standard</strong> for causal inference: it guarantees the necessary assumptions for causal inference hold by design.</p>
</div>
<div class="fragment">
<div class="callout callout-note no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>What is the difference between random <em>assignment</em> and random <em>sampling</em>???</p>
</div>
</div>
</div>
<ul>
<li>BUT: we cannot do experiments all the time?</li>
<li>What if we need to work with observational data?</li>
</ul>
</div>
</section>
<section id="key-assumtion-when-randomising-sutva" class="slide level2">
<h2>Key assumtion when randomising: SUTVA</h2>
<p>When relying on the Rubin/Neyman Causal Model with potential outcomes, we rely on SUTVA:</p>
<ul>
<li><p>SUTVA: Stable Unit Stable Unit Treatment Value Assumption.</p></li>
<li><p>An observation’s outcome is not affected by other observations’ assignments.</p>
<ul>
<li>If your neighbor is treated or not, that cannot affect your potential outcomes (e.g.&nbsp;make your <span class="math inline">\(\delta_i\)</span> larger).</li>
<li>This means that there cannot be any spill-over effects or general equilibrium effects.</li>
</ul></li>
<li><p>Example: Immunization randomised control trial may violate SUTVA because immunization also has a group effect.</p></li>
</ul>
</section>
<section id="forms-of-validity" class="slide level2">
<h2>Forms of validity</h2>
<p><br></p>
<p>Bias in the naive <strong>estimator</strong> when trying to reach our <strong>estimand</strong> (ATE): baseline differences (under the control condition), and differential response to the treatment (under the exposure condition).</p>
<div class="fragment">
<p>When exposure is randomised properly, we know that who ends up in each treatment arm has nothing to do with their potential outcomes!</p>
</div>
<div class="fragment">
<p>This is why we generally say that randomised experiments are great for <span style="color:green;">internal validity</span>: we can rule out systematic bias in our study sample!</p>
<p>This does not imply that our results are <span style="color:red;">externally valid</span>, i.e., that they apply to people outside our study! We need further assumptions to move from one to another.</p>
</div>
</section>
<section id="types-of-experiments" class="slide level2">
<h2>Types of experiments</h2>
<ul>
<li><p><span class="fragment highlight-blue"><strong>Laboratory experiments</strong></span>: Usually conducted with a small sample (of undergraduate psychology students), many times involving games in a computer. Helpful for cognitive/behavioral questions.</p></li>
<li><p><span class="fragment highlight-blue"><strong>Field experiments</strong></span>: In order to obtain more <em>externally valid</em> results, experiments conducted in the field (i.e., under real-world conditions) are the way to go. Definitely more expensive though. Audit studies are a particular type of field experiment.</p></li>
<li><p><span class="fragment highlight-blue"><strong>Survey experiments</strong></span>: One can randomize treatment conditions <em>in a survey</em> to evaluate how participants change their responses based on certain stimulus. Vignettes and list experiments are examples of this approach.</p></li>
<li><p><span class="fragment highlight-blue"><strong>(Bonus) Quasi-experiments</strong></span>: Researchers usually call quasi-experiments to real-world situations that offer as-if random variation in a treatment of interest. For example, earthquakes, change in laws, date of birth, etc.</p></li>
</ul>
</section>
<section id="how-to-randomise" class="slide level2">
<h2>How to randomise?</h2>
<p><br></p>
<p>How much dispersion (i.e.&nbsp;uncertainty) is in our distribution will be affected by <span style="color:blue;"><strong>the level</strong></span> at which randomization (i.e.&nbsp;treatment) happens: at the individual or cluster/group level?</p>
<div class="callout callout-note no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>The more the aggregation, the more uncertainty. So why would we want to randomize at the cluster level?</p>
</div>
</div>
</div>
<p>Conditional randomization (i.e., blocking) increases efficiency, when we have variables that are highly predictive of the outcome of interest</p>
<div class="callout callout-note no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>One extreme of this is randomization in matched pairs: for each pair of individual with similar covariates, we randomly assign one to treatment and one to control</p>
</div>
</div>
</div>
</section>
<section id="blocking" class="slide level2">
<h2>Blocking</h2>
<p><br></p>
<p>Similar to the intuition for stratified random <em>sampling</em> in the context of surveys, blocking may increase precision in experimental design</p>
<p>Precision gains are similar to increasing the sample size</p>
<ul>
<li><p>Collect background information on covariates relevant <em>to the outcome</em></p></li>
<li><p>Pre-stratify your sample, then randomise within blocks</p>
<ul>
<li><p>This ensures that, with respect to the blocked factors, both treatment arms are identical</p></li>
<li><p>It is essentially the same as running a separate experiment in each strata</p></li>
</ul></li>
</ul>
</section>
<section id="blocking-1" class="slide level2">
<h2>Blocking</h2>
<p><br></p>
<p>For estimation, obtain block-specific effects, and average according to population shares. With <span class="math inline">\(J\)</span> strata:</p>
<p><span class="math display">\[
\tau_{\text{block}} = \sum_{j=1}^{J} \frac{N_j}{N} \tau_j
\]</span></p>
</section>
<section id="short-activity-3-mins" class="slide level2" data-background-color="#692044">
<h2>Short activity (3 mins)</h2>
<p>It may be hard to imagine an experiment that would be relevant for the type of questions we care about.</p>
<p>Some even say that experiments tend to emphasize “small” versus “big” questions, promoting incremental/testable policies.</p>
<p>However, there are examples of experiments addressing <strong>big</strong> and difficult questions. <strong>Can you think of any example or a proposal?</strong> ( <a href="https://graemeblair.com/teaching/UCLA_PS200E_Syllabus.pdf">hint, see https://graemeblair.com/teaching/UCLA_PS200E_Syllabus.pdf</a> )</p>
</section>
<section id="what-is-your-estimand" class="slide level2">
<h2>What is your estimand?</h2>
<p>Researchers tend to formalize their effect of interest as <strong>regression coefficients</strong> (i.e., their hypotheses are formulated within a statistical model)</p>
<p><span class="fragment fade-in"><a href=""><strong>This is too restrictive!</strong></a></span></p>
<div class="fragment">
<p>Potential outcomes offer a way to formalize what we mean by a <em>causal effect</em> outside any statistical model. Graphical models provides a way to formalize our <em>assumptions</em> without parametric restrictions.</p>
</div>
<div class="fragment">
<p>This allows us to clearly separate <em>what do we want</em> (a certain <strong>estimand</strong>), what needs to be true so we get what we want (<strong>identifying assumptions</strong>), the statistical machinery to transform data into an answer for our question (an <strong>estimator</strong>), and the particular answer we get (our empirical <strong>estimate</strong>).</p>

</div>
<aside><div>
<p>Lundberg, Johnson, and Stewart (2021) discuss this point in great detail.</p>
</div></aside></section>
<section id="what-is-your-estimand-1" class="slide level2">
<h2>What is your estimand?</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/Lundberg_estimand.jpeg" class="quarto-figure quarto-figure-center" style="width:70.0%"></p>
</figure>
</div>
</section>
<section id="statisticsml-vs-causal-inference" class="slide level2">
<h2>Statistics/ML vs Causal Inference</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong><em>Statistics/ML</em></strong></p>
<ul>
<li>Passive observation of the data generating process</li>
<li>Estimand: Joint probabilities, CEF <span class="math display">\[P(Y,X)\]</span> <span class="math display">\[E(Y|X=x)\]</span></li>
<li>Focus on asymptotics / out of sample prediction</li>
<li>Estimation problem: variance-bias tradeoff</li>
<li>Pearl: “deep learning is just curve fitting”</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong><em>Causal Inference</em></strong></p>
<ul>
<li>Prediction <strong>under interventions</strong> on the DGP</li>
<li>Estimand: interventional quantities <span class="math display">\[P(Y|do(x))\]</span> <span class="math display">\[E(Y|do(x)) - E(Y|do(x'))\]</span> <span class="math display">\[= E(Y_x) - E(Y_{x'})\]</span></li>
<li>Identification problem: consistency (infinite sample)</li>
<li>Estimation problem: in general, focus on bias over variance (but changing)</li>
</ul>
</div></div>
</section>
<section id="the-ladder-of-causation" class="slide level2">
<h2>The ladder of causation</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="img/causation_ladder.png" class="quarto-figure quarto-figure-center" style="width:50.0%"></p>
</figure>
</div>

<aside><div>
<p>Drawing by Maayan Harel, TBOW</p>
<p>Note: effects of causes (high up in the ladder) versus causes of effects (highest place)</p>
</div></aside></section>
<section id="the-ladder-of-causation-1" class="slide level2">
<h2>The ladder of causation</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Association</a></li><li><a href="#tabset-1-2">Interventions</a></li><li><a href="#tabset-1-3">Counterfactuals</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 19%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 23%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>Estimand</th>
<th>Activity</th>
<th>Field/Discipline</th>
<th>Questions</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\mathbf{P(Y \vert X)}\)</span></td>
<td>Seeing, Observing</td>
<td>Stats, Machine Learning</td>
<td><em>What would I believe about Y if I see X?</em></td>
<td>What is the expected income of a college graduate in a given field?</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-1-2">
<table class="caption-top">
<colgroup>
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 25%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Estimand</th>
<th>Activity</th>
<th>Field/Discipline</th>
<th>Questions</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\mathbf{P(Y \vert do(x))}\)</span></td>
<td>Doing, Intervening</td>
<td>Experiments, Policy evaluation</td>
<td><em>What would happen with Y if I change X?</em></td>
<td>How would income levels change in response to college expansion?</td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-1-3">
<table class="caption-top">
<colgroup>
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 25%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Estimand</th>
<th>Activity</th>
<th>Field/Discipline</th>
<th>Questions</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\mathbf{P(Y_x \vert x',y')}\)</span></td>
<td>Imagining, Retrospecting</td>
<td>Structural Models</td>
<td><em>What would have happened with Y have I done X instead of X’? Why?</em></td>
<td>What would have my parents’ income been, have they graduated from college, given that they didn’t go?</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<aside><div>
<p>Pearl and Mackenzie (2018)</p>
<p>Note: effects of causes (high up in the ladder) versus causes of effects (highest place)</p>
</div></aside></section>
<section id="why-should-we-care-about-causal-inference" class="slide level2">
<h2>Why should we care about causal inference?</h2>
<div class="fragment">
<p><br> Most social science questions are in fact causal</p>
</div>
<div class="fragment">
<p>The social sciences are experimenting what some authors have described as the rise of “causal empiricism” (Samii, 2016), a “credibility revolution” (Angrist and Pischke, 2010), or simply a “causal revolution” (Pearl and MacKenzie, 2018)</p>
</div>
<div class="fragment">
<p>In artificial intelligence/ML, causality have been deemed <a href="https://phys.org/news/2019-02-causal-disentanglement-frontier-ai.html"><strong>“the next frontier”</strong></a> and <a href="https://www.datasciencecentral.com/profiles/blogs/causality-the-next-most-important-thing-in-ai-ml"><strong>“the next most important thing”</strong></a></p>
</div>
<div class="fragment">
<p>The enormous progress in the last decades has been facilitated by the development of mathematical frameworks that provide researchers with tools to handle causal questions: <span class="fragment highlight-red">Potential Outcomes</span> and the <span class="fragment highlight-red">Structural Causal Model</span></p>
</div>
</section>
<section id="what-should-you-expect-from-this-class" class="slide level2">
<h2>What should you expect from this class?</h2>
<p><br></p>
<p>This class is designed as a first course in causal inference, so we focus on essentials:</p>
<ul>
<li><p>Familiarize yourself with the most widely used causal inference frameworks</p></li>
<li><p>Understand the role of randomisation to tackle causal questions</p></li>
<li><p>Use potential outcomes (and the do-operator) to formalize causal estimands</p></li>
<li><p>Use directed acyclic graphs (DAGs) to encode qualitative assumptions and derive testable implications</p></li>
<li><p>Selection on observables (regression, imputation, matching, weighting, doubly robust methods and flexible estimation using machine learning)</p></li>
<li><p>Difference-in-difference, synthetic controls, and extensions</p></li>
<li><p>Instrumental variables and regression discontinuity designs</p></li>
<li><p>Sensitivity analysis</p></li>
</ul>
</section>
<section id="logistics" class="slide level2">
<h2>Logistics</h2>
<p><br></p>
<ul>
<li><p><strong>Lectures:</strong> Wed 2-4pm</p></li>
<li><p><strong>Exercises:</strong> hands-on practices that accompany the lectures (self-study), released weekly</p></li>
<li><p><strong>Bi-weekly drop-ins:</strong> optional, lecturer and TA present for any questions, Fri 12-1pm weeks 2/4/6/8</p></li>
<li><p><strong>Summative assessments:</strong> to be released bi-weekly</p></li>
</ul>
<div class="fragment">
<p>We are in it together!</p>
<p>Ask questions, engage with the material, immerse yourself</p>
<p>Get confused and frustrated but carry on</p>
<p>Help each other (except summative assessments)</p>
<p>Good methodological skills will empower you as a sociologist!</p>
<p>Climbing the causal ladder can change you (as did Ebenezer Scrooge)</p>
</div>
</section>
<section id="correlation-vs-causation" class="slide level2">
<h2>Correlation vs causation</h2>
<p><br></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://imgs.xkcd.com/comics/correlation.png" class="quarto-figure quarto-figure-center" width="900"></p>
</figure>
</div>

<aside><div>
<p><a href="https://imgs.xkcd.com/comics/correlation.png">causality</a></p>
</div></aside></section>
<section id="selection-bias" class="slide level2">
<h2>Selection bias</h2>
<p><img data-src="https://www.explainxkcd.com/wiki/images/9/9b/selection_bias.png" width="600"></p>


<aside><div>
<p><a href="https://www.explainxkcd.com/wiki/images/9/9b/selection_bias.png">selection bias</a></p>
</div></aside></section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="https://fundit.fr/sites/default/files/styles/max_650x650/public/institutions/oxford.png?itok=yBrBnRnK" class="slide-logo"></p>
<div class="footer footer-default">
<p>Why Causal Inference?</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="1.lecture1_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="1.lecture1_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="1.lecture1_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="1.lecture1_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="1.lecture1_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="1.lecture1_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="1.lecture1_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="1.lecture1_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="1.lecture1_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="1.lecture1_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="1.lecture1_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 1000,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>